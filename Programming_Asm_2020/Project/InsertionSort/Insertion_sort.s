	AREA Insertion_Sort,CODE,READONLY ; Insertion Sorting Program
		ENTRY
		
Conversion_Main ; floating point conversion
	LDR R10, =Data ; load the address of Data
	LDR R11, Float_result ; Float_result means address to store value
	MOV R6, #0 ; define Register 6 is 0
	
Conversion 
	LDR R1, [R10], #4 ; load the first data into r1 and then, r10 = r10 + 4
	CMP R1, #0x80000000 ; To find plus or minus
	MOVLO R2, #0 ; sign == plus	
	MOVHS R2, #1 ; sign == minus
	
	ROR R1, R1, #23 ; Rotate r1 to the right 23 times (for bit clear)
	BIC R3, R1, #0xFFFFFF00 ; Bit clear 0xFFFFFF00 for exponent
	
	LSR R4, R1, #9 ; The value of r4 is shifted right 9 space and assigned to r1.
	ROR R1, R1, #9 ; Rotate r1 to the right 9 times
	
	MOV R5, #0 ; Initialize R5 to 0
	ROR R2, R2, #1 ; rotate right once
	ADD R5, R5, R2 ; R5 = R5 + R2 (sign)
	
	ADD R5, R5, R4 ; R5 = R5 + R4 (Mantissa)
	
	ROR R3, R3, #9 ; Rotate 9 times to the right to move the value to the place in charge of exponent
	ADD R5, R5, R3 ; R5 = R5 + R3 (exponent)
	
	STR R5, [R11], #4 ; Mem[R11] = R5 and then, R11 = R11 + 4;
	
	CMP R5, #0x00000000 ; Compared to 0x00000000 to determine if the given data is the end or not
	ADDNE R6, R6, #1 ; If not, add 1 to R6
	BNE Conversion ; If not, go to Conversion
	
Main  ; Sorting Start
	LDR R12, Float_result ; Float_result means address to store Float value
	LDR R13, Sort_result ; Sort_result means address to store Sort value
	
	MOV R0, #0 ; Initialize R0 to 0
	MOV R1, #0 ; Initialize R1 to 0
	MOV R2, #0 ; Initialize R2 to 0
	MOV R3, #0 ; Initialize R3 to 0
	MOV R4, #0 ; Initialize R4 to 0
	MOV R5, #0 ; Initialize R5 to 0
	
	ADD R1, R12, #4 ; R1 = R12 + 4 (it means Current Float's next)
	SUB R6, R6, #1 ; R6 = R6 - 1 (To adjust the number of cycles)
Loop
	MOV R0, R12	; Define R0 is R12 (it means Current Float)
	
Small_loop
		LDR R2, [R0] ; load the first data into r2 
		LDR R3, [R1] ; load the first data into r3
		
		CMP R3, #0x80000000 ; To find R3 plus or minus
		BLO Plus ; sign == plus	
		BHS Minus ; sign == minus
		
Plus
	CMP R2, #0x80000000 ; To find R2 plus or minus
	BHS Keeper ; if R2 is minus go to Keeper
	MOV R5, R0 ; Define R5 is R0
	CMP R3, R2 ; Compare R3 and R2
	BLT Change ; if R3 < R2 go to Change
	BGE Keeper ; if R3 >= R2 go to Keeper
	
Minus
	CMP R2, #0x80000000 ; To find R2 plus or minus
	MOV R5, R0 ; define R5 = R0
	BLO Change ; if R2 is plus go to Change
	CMP R3, R2 ; Compare R3 and R2 
	BGE Change ; if R3 >= R2(Since both numbers are negative, it means R2 is bigger than R3) go to Change
	BLT Keeper ; if R3 < R2 go to Keeper 
	
Keeper
	ADD R0, R0, #4 ; R0 = R0 + 4 (R0 means R2's address)
	CMP R0, R1 ; Compare R2's address and R3's address
	BNE Small_loop ; if not equal, go to small_loop
	BEQ Loop_cycle ; if equal, go to loop_cycle

Change 
	ADD R5, R5, #4 ; R5 = R5 + 4 (R5 means R2's address copy)
	CMP R5, R1 ; Compare R2's address copy and R3's address
	LDRLE R7, [R5] ; if R5 <= R1, load the data into r7
	STRLE R2, [R5] ; if R5 <= R1, m[r5] = r2
	MOVLE R2, R7 ; if R5 <= R1, R2 = R7
	BNE Change ; if not equal, go to Change	
	STR R3, [R0] ; Mem[r0] = r3
	B Loop_cycle ; if equal, go to Loop_cycle
	
Loop_cycle
	ADD R1, R1, #4 ; R1 = R1 + 4 (R1 means R3's address)
	SUB R6, R6, #1 ; R6 = R6 - 1 (R6 means Number of float points)
	
	CMP R6, #0 ; Compare R6 and 0
	BEQ Store ; if equal, go to Store
	BNE Loop ; if not equal, go to Loop
	
Store
	LDR R2, [R12], #4 ; load the first data into r2 and then, r12 = r12 + 4;
	
	CMP R2, #0x00000000 ; Compare R2 and end of Float point 
	STRNE R2, [R13], #4 ; if not equal, Mem[r13] = r2 and then, R13 = R13 + 4;
	BNE Store ; if not equal, go to Store

Endline
	MOV pc, lr ; Store lr in pc == return

Data
	dcd 0x00001000,0x00000999,0x00000998,0x00000997,0x00000996,0x00000995,0x00000994,0x00000993,0x00000992,0x00000991,0x00000990,0x00000989,0x00000988,0x00000987,0x00000986,0x00000985,0x00000984,0x00000983,0x00000982,0x00000981,0x00000980,0x00000979,0x00000978,0x00000977,0x00000976,0x00000975,0x00000974,0x00000973,0x00000972,0x00000971,0x00000970,0x00000969,0x00000968,0x00000967,0x00000966,0x00000965,0x00000964,0x00000963,0x00000962,0x00000961,0x00000960,0x00000959,0x00000958,0x00000957,0x00000956,0x00000955,0x00000954,0x00000953,0x00000952,0x00000951,0x00000950,0x00000949,0x00000948,0x00000947,0x00000946,0x00000945,0x00000944,0x00000943,0x00000942,0x00000941,0x00000940,0x00000939,0x00000938,0x00000937,0x00000936,0x00000935,0x00000934,0x00000933,0x00000932,0x00000931,0x00000930,0x00000929,0x00000928,0x00000927,0x00000926,0x00000925,0x00000924,0x00000923,0x00000922,0x00000921,0x00000920,0x00000919,0x00000918,0x00000917,0x00000916,0x00000915,0x00000914,0x00000913,0x00000912,0x00000911,0x00000910,0x00000909,0x00000908,0x00000907,0x00000906,0x00000905,0x00000904,0x00000903,0x00000902,0x00000901,0x00000900,0x00000899,0x00000898,0x00000897,0x00000896,0x00000895,0x00000894,0x00000893,0x00000892,0x00000891,0x00000890,0x00000889,0x00000888,0x00000887,0x00000886,0x00000885,0x00000884,0x00000883,0x00000882,0x00000881,0x00000880,0x00000879,0x00000878,0x00000877,0x00000876,0x00000875,0x00000874,0x00000873,0x00000872,0x00000871,0x00000870,0x00000869,0x00000868,0x00000867,0x00000866,0x00000865,0x00000864,0x00000863,0x00000862,0x00000861,0x00000860,0x00000859,0x00000858,0x00000857,0x00000856,0x00000855,0x00000854,0x00000853,0x00000852,0x00000851,0x00000850,0x00000849,0x00000848,0x00000847,0x00000846,0x00000845,0x00000844,0x00000843,0x00000842,0x00000841,0x00000840,0x00000839,0x00000838,0x00000837,0x00000836,0x00000835,0x00000834,0x00000833,0x00000832,0x00000831,0x00000830,0x00000829,0x00000828,0x00000827,0x00000826,0x00000825,0x00000824,0x00000823,0x00000822,0x00000821,0x00000820,0x00000819,0x00000818,0x00000817,0x00000816,0x00000815,0x00000814,0x00000813,0x00000812,0x00000811,0x00000810,0x00000809,0x00000808,0x00000807,0x00000806,0x00000805,0x00000804,0x00000803,0x00000802,0x00000801
    dcd 0x00000800,0x00000799,0x00000798,0x00000797,0x00000796,0x00000795,0x00000794,0x00000793,0x00000792,0x00000791,0x00000790,0x00000789,0x00000788,0x00000787,0x00000786,0x00000785,0x00000784,0x00000783,0x00000782,0x00000781,0x00000780,0x00000779,0x00000778,0x00000777,0x00000776,0x00000775,0x00000774,0x00000773,0x00000772,0x00000771,0x00000770,0x00000769,0x00000768,0x00000767,0x00000766,0x00000765,0x00000764,0x00000763,0x00000762,0x00000761,0x00000760,0x00000759,0x00000758,0x00000757,0x00000756,0x00000755,0x00000754,0x00000753,0x00000752,0x00000751,0x00000750,0x00000749,0x00000748,0x00000747,0x00000746,0x00000745,0x00000744,0x00000743,0x00000742,0x00000741,0x00000740,0x00000739,0x00000738,0x00000737,0x00000736,0x00000735,0x00000734,0x00000733,0x00000732,0x00000731,0x00000730,0x00000729,0x00000728,0x00000727,0x00000726,0x00000725,0x00000724,0x00000723,0x00000722,0x00000721,0x00000720,0x00000719,0x00000718,0x00000717,0x00000716,0x00000715,0x00000714,0x00000713,0x00000712,0x00000711,0x00000710,0x00000709,0x00000708,0x00000707,0x00000706,0x00000705,0x00000704,0x00000703,0x00000702,0x00000701,0x00000700,0x00000699,0x00000698,0x00000697,0x00000696,0x00000695,0x00000694,0x00000693,0x00000692,0x00000691,0x00000690,0x00000689,0x00000688,0x00000687,0x00000686,0x00000685,0x00000684,0x00000683,0x00000682,0x00000681,0x00000680,0x00000679,0x00000678,0x00000677,0x00000676,0x00000675,0x00000674,0x00000673,0x00000672,0x00000671,0x00000670,0x00000669,0x00000668,0x00000667,0x00000666,0x00000665,0x00000664,0x00000663,0x00000662,0x00000661,0x00000660,0x00000659,0x00000658,0x00000657,0x00000656,0x00000655,0x00000654,0x00000653,0x00000652,0x00000651,0x00000650,0x00000649,0x00000648,0x00000647,0x00000646,0x00000645,0x00000644,0x00000643,0x00000642,0x00000641,0x00000640,0x00000639,0x00000638,0x00000637,0x00000636,0x00000635,0x00000634,0x00000633,0x00000632,0x00000631,0x00000630,0x00000629,0x00000628,0x00000627,0x00000626,0x00000625,0x00000624,0x00000623,0x00000622,0x00000621,0x00000620,0x00000619,0x00000618,0x00000617,0x00000616,0x00000615,0x00000614,0x00000613,0x00000612,0x00000611,0x00000610,0x00000609,0x00000608,0x00000607,0x00000606,0x00000605,0x00000604,0x00000603,0x00000602,0x00000601
	dcd 0x00000600,0x00000599,0x00000598,0x00000597,0x00000596,0x00000595,0x00000594,0x00000593,0x00000592,0x00000591,0x00000590,0x00000589,0x00000588,0x00000587,0x00000586,0x00000585,0x00000584,0x00000583,0x00000582,0x00000581,0x00000580,0x00000579,0x00000578,0x00000577,0x00000576,0x00000575,0x00000574,0x00000573,0x00000572,0x00000571,0x00000570,0x00000569,0x00000568,0x00000567,0x00000566,0x00000565,0x00000564,0x00000563,0x00000562,0x00000561,0x00000560,0x00000559,0x00000558,0x00000557,0x00000556,0x00000555,0x00000554,0x00000553,0x00000552,0x00000551,0x00000550,0x00000549,0x00000548,0x00000547,0x00000546,0x00000545,0x00000544,0x00000543,0x00000542,0x00000541,0x00000540,0x00000539,0x00000538,0x00000537,0x00000536,0x00000535,0x00000534,0x00000533,0x00000532,0x00000531,0x00000530,0x00000529,0x00000528,0x00000527,0x00000526,0x00000525,0x00000524,0x00000523,0x00000522,0x00000521,0x00000520,0x00000519,0x00000518,0x00000517,0x00000516,0x00000515,0x00000514,0x00000513,0x00000512,0x00000511,0x00000510,0x00000509,0x00000508,0x00000507,0x00000506,0x00000505,0x00000504,0x00000503,0x00000502,0x00000501,0x00000500,0x00000499,0x00000498,0x00000497,0x00000496,0x00000495,0x00000494,0x00000493,0x00000492,0x00000491,0x00000490,0x00000489,0x00000488,0x00000487,0x00000486,0x00000485,0x00000484,0x00000483,0x00000482,0x00000481,0x00000480,0x00000479,0x00000478,0x00000477,0x00000476,0x00000475,0x00000474,0x00000473,0x00000472,0x00000471,0x00000470,0x00000469,0x00000468,0x00000467,0x00000466,0x00000465,0x00000464,0x00000463,0x00000462,0x00000461,0x00000460,0x00000459,0x00000458,0x00000457,0x00000456,0x00000455,0x00000454,0x00000453,0x00000452,0x00000451,0x00000450,0x00000449,0x00000448,0x00000447,0x00000446,0x00000445,0x00000444,0x00000443,0x00000442,0x00000441,0x00000440,0x00000439,0x00000438,0x00000437,0x00000436,0x00000435,0x00000434,0x00000433,0x00000432,0x00000431,0x00000430,0x00000429,0x00000428,0x00000427,0x00000426,0x00000425,0x00000424,0x00000423,0x00000422,0x00000421,0x00000420,0x00000419,0x00000418,0x00000417,0x00000416,0x00000415,0x00000414,0x00000413,0x00000412,0x00000411,0x00000410,0x00000409,0x00000408,0x00000407,0x00000406,0x00000405,0x00000404,0x00000403,0x00000402,0x00000401
	dcd 0x00000400,0x00000399,0x00000398,0x00000397,0x00000396,0x00000395,0x00000394,0x00000393,0x00000392,0x00000391,0x00000390,0x00000389,0x00000388,0x00000387,0x00000386,0x00000385,0x00000384,0x00000383,0x00000382,0x00000381,0x00000380,0x00000379,0x00000378,0x00000377,0x00000376,0x00000375,0x00000374,0x00000373,0x00000372,0x00000371,0x00000370,0x00000369,0x00000368,0x00000367,0x00000366,0x00000365,0x00000364,0x00000363,0x00000362,0x00000361,0x00000360,0x00000359,0x00000358,0x00000357,0x00000356,0x00000355,0x00000354,0x00000353,0x00000352,0x00000351,0x00000350,0x00000349,0x00000348,0x00000347,0x00000346,0x00000345,0x00000344,0x00000343,0x00000342,0x00000341,0x00000340,0x00000339,0x00000338,0x00000337,0x00000336,0x00000335,0x00000334,0x00000333,0x00000332,0x00000331,0x00000330,0x00000329,0x00000328,0x00000327,0x00000326,0x00000325,0x00000324,0x00000323,0x00000322,0x00000321,0x00000320,0x00000319,0x00000318,0x00000317,0x00000316,0x00000315,0x00000314,0x00000313,0x00000312,0x00000311,0x00000310,0x00000309,0x00000308,0x00000307,0x00000306,0x00000305,0x00000304,0x00000303,0x00000302,0x00000301,0x00000300,0x00000299,0x00000298,0x00000297,0x00000296,0x00000295,0x00000294,0x00000293,0x00000292,0x00000291,0x00000290,0x00000289,0x00000288,0x00000287,0x00000286,0x00000285,0x00000284,0x00000283,0x00000282,0x00000281,0x00000280,0x00000279,0x00000278,0x00000277,0x00000276,0x00000275,0x00000274,0x00000273,0x00000272,0x00000271,0x00000270,0x00000269,0x00000268,0x00000267,0x00000266,0x00000265,0x00000264,0x00000263,0x00000262,0x00000261,0x00000260,0x00000259,0x00000258,0x00000257,0x00000256,0x00000255,0x00000254,0x00000253,0x00000252,0x00000251,0x00000250,0x00000249,0x00000248,0x00000247,0x00000246,0x00000245,0x00000244,0x00000243,0x00000242,0x00000241,0x00000240,0x00000239,0x00000238,0x00000237,0x00000236,0x00000235,0x00000234,0x00000233,0x00000232,0x00000231,0x00000230,0x00000229,0x00000228,0x00000227,0x00000226,0x00000225,0x00000224,0x00000223,0x00000222,0x00000221,0x00000220,0x00000219,0x00000218,0x00000217,0x00000216,0x00000215,0x00000214,0x00000213,0x00000212,0x00000211,0x00000210,0x00000209,0x00000208,0x00000207,0x00000206,0x00000205,0x00000204,0x00000203,0x00000202,0x00000201
    dcd 0x00000151,0x00000150,0x00000149,0x00000148,0x00000147,0x00000146,0x00000145,0x00000144,0x00000143,0x00000142,0x00000141,0x00000140,0x00000139,0x00000138,0x00000137,0x00000136,0x00000135,0x00000134,0x00000133,0x00000132,0x00000131,0x00000130,0x00000129,0x00000128,0x00000127,0x00000126,0x00000125,0x00000124,0x00000123,0x00000122,0x00000121,0x00000120,0x00000119,0x00000118,0x00000117,0x00000116,0x00000115,0x00000114,0x00000113,0x00000112,0x00000111,0x00000110,0x00000109,0x00000108,0x00000107,0x00000106,0x00000105,0x00000104,0x00000103,0x00000102,0x00000101,0x00000100,0x00000099,0x00000098,0x00000097,0x00000096,0x00000095,0x00000094,0x00000093,0x00000092,0x00000091,0x00000090,0x00000089,0x00000088,0x00000087,0x00000086,0x00000085,0x00000084,0x00000083,0x00000082,0x00000081,0x00000080,0x00000079,0x00000078,0x00000077,0x00000076,0x00000075,0x00000074,0x00000073,0x00000072,0x00000071,0x00000070,0x00000069,0x00000068,0x00000067,0x00000066,0x00000065,0x00000064,0x00000063,0x00000062,0x00000061,0x00000060,0x00000059,0x00000058,0x00000057,0x00000056,0x00000055,0x00000054,0x00000053,0x00000052,0x00000051,0x00000050,0x00000049,0x00000048,0x00000047,0x00000046,0x00000045,0x00000044,0x00000043,0x00000042,0x00000041,0x00000040,0x00000039,0x00000038,0x00000037,0x00000036,0x00000035,0x00000034,0x00000033,0x00000032,0x00000031,0x00000030,0x00000029,0x00000028,0x00000027,0x00000026,0x00000025,0x00000024,0x00000023,0x00000022,0x00000021,0x00000020,0x00000019,0x00000018,0x00000017,0x00000016,0x00000015,0x00000014,0x00000013,0x00000012,0x00000011,0x00000010,0x00000009,0x00000008,0x00000007,0x00000006,0x00000005,0x00000004,0x00000003,0x00000002,0x00000001,0x00000000


Float_result DCD &20000000 ; Float_result's Address is 0x20000000

Sort_result DCD &40000000 ; Sort_result's Address is 0x40000000
		END ; end of program